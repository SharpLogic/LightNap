<ln-branded-card>
  <span title>Welcome!</span>
  <span subtitle>Sign in to continue</span>

  <form [formGroup]="form" (ngSubmit)="logIn()" autocomplete="off">
    <div class="w-96">
      <div class="flex flex-col gap-5">
        <div class="flex flex-col gap-2">
          <label for="login" class="text-xl font-medium">Email/User Name</label>
          <p-inputGroup>
            <input id="login" data-cy="login-username" type="text" placeholder="Email/User Name" pInputText formControlName="login" />
            <p-inputgroup-addon>
              <p-button data-cy="login-magic-link" icon="pi pi-sparkles" title="Send Magic Link" pRipple (onClick)="sendMagicLink()" [disabled]="!showMagicLink.valid" />
            </p-inputgroup-addon>
          </p-inputGroup>
        </div>

        <div class="flex flex-col gap-2">
          <label for="password" class="font-medium text-xl">Password</label>
          <p-password
            data-cy="login-password"
            formControlName="password"
            inputStyleClass="w-full"
            placeholder="Password"
            [toggleMask]="true"
            [feedback]="false"
          />
        </div>

        <div class="flex items-center justify-between">
          <div class="flex gap-2">
            <p-checkbox data-cy="login-remember-me" inputId="rememberMe" formControlName="rememberMe" [binary]="true" />
            <label for="rememberMe">Remember Me</label>
          </div>
          <a data-cy="login-forgot-password" [routerLink]="'reset-password' | route">Forgot password?</a>
        </div>

        <ln-error-list data-cy="login-errors" [errors]="errors()" />
      </div>

      <p-button data-cy="login-submit" type="submit" label="Sign In" styleClass="w-full text-xl mt-2" [disabled]="!form.valid" pRipple />

      <div class="mt-4">
        <a data-cy="login-register-link" [routerLink]="'register' | route">I need to create an account</a>
      </div>
      <div class="mt-4">
        <a [routerLink]="'external-logins' | route">I want to log in with an external account</a>
      </div>
    </div>
  </form>
</ln-branded-card>
